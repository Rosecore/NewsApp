{"version":3,"file":"features-AuthByUsername-ui-LoginForm-LoginForm-stories.d99733ddf939aed60b57.hot-update.js","mappings":";;;;;;;;;;;;;AAEA;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAIA;AACA;;;;;;;;;;;;;;;;;;ACrEA;AACA;AAAA;AAAA;AAcA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://prodproj/./src/features/AuthByUsername/model/selectors/getLoginError/getLoginError.ts","webpack://prodproj/./src/features/AuthByUsername/model/selectors/getLoginIsLoading/getLoginIsLoading.ts","webpack://prodproj/./src/features/AuthByUsername/model/selectors/getLoginPassword/getLoginPassword.ts","webpack://prodproj/./src/features/AuthByUsername/model/selectors/getLoginUsername/getLoginUsername.ts","webpack://prodproj/./src/features/AuthByUsername/ui/LoginForm/LoginForm.tsx","webpack://prodproj/./src/shared/lib/comonents/DynamicModuleLoader/DynamicModuleLoader.tsx","webpack://prodproj/./src/features/AuthByUsername/ui/LoginForm/LoginForm.module.scss","webpack://prodproj/./src/features/AuthByUsername/ui/LoginForm/LoginForm.module.scss?4733"],"sourcesContent":["import { StateSchema } from 'app/provider/StoreProvider';\n\nexport const getLoginError = (state: StateSchema) => state?.login?.error;\n","import { StateSchema } from 'app/provider/StoreProvider';\n\nexport const getLoginIsLoading = (state: StateSchema) => state?.login?.isLoading || false;\n","import { StateSchema } from 'app/provider/StoreProvider';\n\nexport const getLoginPassword = (state: StateSchema) => state?.login?.password || '';\n","import { StateSchema } from 'app/provider/StoreProvider';\n\nexport const getLoginUsername = (state: StateSchema) => state?.login?.username || '';\n","import { classNames } from 'shared/lib/classNames/classNames';\r\nimport cls from './LoginForm.module.scss'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Button } from 'shared/ui/Button/Button';\r\nimport { Input } from 'shared/ui/Input/Input';\r\nimport { useSelector } from 'react-redux';\r\nimport { LoginActions, LoginReducer } from '../../model/slice/LoginSlice';\r\nimport { memo, useCallback, useEffect } from 'react';\r\nimport { LoginByUsername } from '../../model/services/LoginByUsername/LoginByUsername';\r\nimport { TextTheme, Text } from 'shared/ui/Text/Text';\r\nimport { getLoginUsername } from '../../model/selectors/getLoginUsername/getLoginUsername';\r\nimport { getLoginPassword } from '../../model/selectors/getLoginPassword/getLoginPassword';\r\nimport { getLoginError } from    '../../model/selectors/getLoginError/getLoginError';\r\nimport { getLoginIsLoading } from'../..//model/selectors/getLoginIsLoading/getLoginIsLoading';\r\nimport {DynamicModuleLoader,  ReducersList } from 'shared/lib/comonents/DynamicModuleLoader/DynamicModuleLoader';\r\nimport { useAppDispatch } from 'app/provider/StoreProvider'\r\n//import { useAppDispatch } from '../../../../app/provider/StoreProvider';\r\n\r\nconst initialReducers:ReducersList = {\r\n    login:LoginReducer\r\n}\r\nexport interface LoginFormProps {\r\n    className?: string,\r\n    onSucsess?:()=>void\r\n}\r\nconst LoginForm = memo(({className, onSucsess}:LoginFormProps) => {\r\n    const {t} = useTranslation()\r\n    const dispatch = useAppDispatch()\r\n    const username = useSelector(getLoginUsername)\r\n    const password = useSelector(getLoginPassword)\r\n   \r\n    const error = useSelector(getLoginError)\r\n    const isLoading = useSelector(getLoginIsLoading)\r\n    useEffect(()=>{\r\n        console.log(username,password)\r\n    })\r\n\r\n    const onChangeUsername = useCallback((value:string) =>{\r\n        dispatch(LoginActions.setUsername(value))\r\n    },[dispatch])\r\n\r\n    const onChangePassword =  useCallback((value:string) =>{\r\n        dispatch(LoginActions.setPassword(value))\r\n    },[dispatch])\r\n\r\n    const onLoginClick =  useCallback(async () =>{\r\n        //@ts-ignore\r\n        const result = await dispatch(LoginByUsername({username,password}))\r\n        if (result.meta.requestStatus ==='fulfilled'){\r\n            onSucsess?.();\r\n        }\r\n    },[dispatch,password,username,onSucsess])\r\n\r\n \r\n    return (\r\n        <DynamicModuleLoader reducers={initialReducers}>\r\n            <div className={classNames(cls.LoginForm,{},[className])}>\r\n                <Text title={t('LoginForm')}></Text>\r\n                {error && <Text theme={TextTheme.ERROR} text={error}></Text>}\r\n                <Input type='text' onChange = {onChangeUsername} placeholder={t('EnterUsername')} value={username}></Input>\r\n                <Input type='text' onChange = {onChangePassword} placeholder={t('EnterPassword')} value={password}></Input>\r\n                <Button className={cls.lognBtn} onClick={onLoginClick} disabled={isLoading}>\r\n                    {t(\"Enter\")}\r\n                </Button>\r\n            </div>\r\n        </DynamicModuleLoader>\r\n\r\n    );\r\n});\r\nexport default LoginForm\r\n","import { FC, ReactNode, useEffect } from 'react';\r\nimport { useDispatch, useStore } from 'react-redux';\r\nimport { ReduxStoreWithManager, StateSchemaKey } from 'app/provider/StoreProvider/config/StateSchema';\r\nimport { Reducer } from '@reduxjs/toolkit';\r\n\r\nexport type ReducersList = {\r\n    [name in StateSchemaKey]?: Reducer;\r\n}\r\n\r\ninterface DynamicModuleLoaderProps {\r\n    reducers: ReducersList;\r\n    removeAfterUnmount?: boolean;\r\n    children:ReactNode;\r\n}\r\n\r\nexport const DynamicModuleLoader: FC<DynamicModuleLoaderProps> = (props) => {\r\n    const {\r\n        children,\r\n        reducers,\r\n        removeAfterUnmount,\r\n    } = props;\r\n\r\n    const store = useStore() as ReduxStoreWithManager;\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        Object.entries(reducers).forEach(([name, reducer]) => {\r\n            store.reducerManager.add(name as StateSchemaKey, reducer);\r\n            dispatch({ type: `@INIT ${name} reducer` });\r\n        });\r\n\r\n        return () => {\r\n            if (removeAfterUnmount) {\r\n                Object.entries(reducers).forEach(([name, reducer]) => {\r\n                    store.reducerManager.remove(name as StateSchemaKey);\r\n                    dispatch({ type: `@DESTROY ${name} reducer` });\r\n                });\r\n            }\r\n        };\r\n        // eslint-disable-next-line\r\n    }, []);\r\n\r\n    return (\r\n        // eslint-disable-next-line react/jsx-no-useless-fragment\r\n        <>\r\n            {children}\r\n        </>\r\n    );\r\n};\r\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.src-features-AuthByUsername-ui-LoginForm-LoginForm-module__LoginForm {\n  display: flex;\n  flex-direction: column;\n  max-width: 400px;\n  justify-content: space-between;\n}\n\n.src-features-AuthByUsername-ui-LoginForm-LoginForm-module__input {\n  margin-top: 10px;\n}\n\n.src-features-AuthByUsername-ui-LoginForm-LoginForm-module__lognBtn {\n  margin-top: 15px;\n  border: none;\n  border-radius: 10px;\n  outline: none;\n  background-color: var(--primary-color);\n  height: 25px;\n  font: var(--font-m);\n  color: var(--bg-color);\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/features/AuthByUsername/ui/LoginForm/LoginForm.module.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,aAAA;EACA,sBAAA;EACA,gBAAA;EACA,8BAAA;AACJ;;AACA;EACI,gBAAA;AAEJ;;AAAA;EACI,gBAAA;EACA,YAAA;EACA,mBAAA;EACA,aAAA;EACA,sCAAA;EACA,YAAA;EACA,mBAAA;EACA,sBAAA;AAGJ\",\"sourcesContent\":[\".LoginForm{\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    max-width: 400px;\\r\\n    justify-content: space-between;\\r\\n}\\r\\n.input{\\r\\n    margin-top: 10px;\\r\\n}\\r\\n.lognBtn{\\r\\n    margin-top: 15px;\\r\\n    border: none;\\r\\n    border-radius: 10px;\\r\\n    outline: none;\\r\\n    background-color: var(--primary-color);\\r\\n    height: 25px;\\r\\n    font: var(--font-m);\\r\\n    color: var( --bg-color);\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"LoginForm\": `src-features-AuthByUsername-ui-LoginForm-LoginForm-module__LoginForm`,\n\t\"input\": `src-features-AuthByUsername-ui-LoginForm-LoginForm-module__input`,\n\t\"lognBtn\": `src-features-AuthByUsername-ui-LoginForm-LoginForm-module__lognBtn`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js!./LoginForm.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n  var p;\n  for (p in a) {\n    if (isNamedExport && p === \"default\") {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n  for (p in b) {\n    if (isNamedExport && p === \"default\") {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n    if (!a[p]) {\n      return false;\n    }\n  }\n  return true;\n};\n    var isNamedExport = !content.locals;\n    var oldLocals = isNamedExport ? namedExport : content.locals;\n\n    module.hot.accept(\n      \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js!./LoginForm.module.scss\",\n      function () {\n        if (!isEqualLocals(oldLocals, isNamedExport ? namedExport : content.locals, isNamedExport)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = isNamedExport ? namedExport : content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js!./LoginForm.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":[],"sourceRoot":""}