"use strict";
self["webpackHotUpdateprodproj"]("widgets-navbar-ui-Navbar-stories",{

/***/ "./src/features/AuthByUsername/model/services/LoginByUsername/LoginByUsername.ts":
/*!***************************************************************************************!*\
  !*** ./src/features/AuthByUsername/model/services/LoginByUsername/LoginByUsername.ts ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LoginByUsername: () => (/* binding */ LoginByUsername)
/* harmony export */ });
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reduxjs/toolkit */ "./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js");
/* harmony import */ var entities_User__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! entities/User */ "./src/entities/User/index.ts");
/* harmony import */ var shared_const_localstorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! shared/const/localstorage */ "./src/shared/const/localstorage.ts");



const LoginByUsername = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__.createAsyncThunk)('login/LoginByUsername', async (AuthData, thunkAPI) => {
  try {
    const response = await thunkAPI.extra.api.post('/login', AuthData);
    if (!response) {
      throw new Error();
    }
    localStorage.setItem(shared_const_localstorage__WEBPACK_IMPORTED_MODULE_2__.USER_LOCALSTORAGE_KEY, JSON.stringify(response.data));
    thunkAPI.dispatch(entities_User__WEBPACK_IMPORTED_MODULE_0__.UserActions.setAuthData(response.data));
    return response.data;
  } catch (err) {
    return thunkAPI.rejectWithValue("Неправильный юзернейм или пароль");
  }
});

/***/ })

});
//# sourceMappingURL=widgets-navbar-ui-Navbar-stories.bd6eb787e98569207901.hot-update.js.map